// -----------------------------------------------------------------------------
// So far we have three types of card:
//
// Grid, List and Full page (detail page)
// -----------------------------------------------------------------------------

// -----------------------------------------------------------------------------
// Our base card object and sizing variables
// -----------------------------------------------------------------------------

$card-grid-height: 380px
$hero-image-height: 185px
$single-card-width: 190px
$stack-image-height: 275px

%base-card-object
  @extend %standard-shadow
  background: #fff
  .grid-view &, .list-view &
    @extend %margin-bottom-10
  .grid-view &
    height: $card-grid-height
    

// -----------------------------------------------------------------------------
// The Card
// -----------------------------------------------------------------------------

.card
  @extend %base-card-object
  @extend %relative



// -----------------------------------------------------------------------------
// The Stack
// -----------------------------------------------------------------------------

.card--stack
  @extend .card
  height: 380px
  .card__hero
    height: $stack-image-height


// -----------------------------------------------------------------------------
//
// Full Page Card
//
// -----------------------------------------------------------------------------
.card--full-page
  @extend .card
  @extend %box-off-double

.lodging--top-choice
  &:after
    @extend %empty-abs-generated-content
    background: url(image_path("lodgings-spt.png"))
    top: -5px
    left: 17px
    width: 63px
    height: 95px
    +retinafy()
      background: url(image_path("lodgings-spt-2x.png"))
      background-size: $sprite-size

  .card--full-page__header
    padding-left: 73px
    min-height: 60px

.card--full-page__header
  @extend %margin-bottom-20
  border-bottom: 1px solid $ruled-separator
  padding-bottom: 20px

.card--full-page__title
  @extend %benton-regular
  @extend %tighten-text
  @extend %card-header-size
  color: $header-blue


.card--full-page__subtitle
  @extend %larger-type
  @extend %inline-block
  @extend %body-copy
  @extend %smooth-text
  @extend %vertically-centered-dot-after
  @extend %reset-line-height
  &:last:after
    content: ''



// -----------------------------------------------------------------------------
// Lodging card
// -----------------------------------------------------------------------------

.card--lodging:hover
  +box-shadow(2, 2, 8, 0, rgba(3, 46, 92, 0.15))
  img
    +filter(brightness(-15%))



// -----------------------------------------------------------------------------
//
// Grid and List view cards
//
// -----------------------------------------------------------------------------

.list-view .card
  @extend %media


// -----------------------------------------------------------------------------
// The Card Image
// -----------------------------------------------------------------------------

.card__hero
  @extend %relative
  height: $hero-image-height
  overflow: hidden


  
  // Refactor to use landscape/portrait classes when rowlf imaging catches up
  > .card__image
    @extend %absolute-bottom
    max-width: none
    height: 100% 

  .grid-view &
    width: 100%

  .list-view &
    width: $single-card-width



// -----------------------------------------------------------------------------
// Inner 'content' section
// -----------------------------------------------------------------------------

$card-padding-top: 15px
$card-padding: 13px

.card__content
  @extend %relative
  padding: $card-padding-top $card-padding $card-padding
  color: $header-gray

  .list-view &
    height: ($hero-image-height - $card-padding-top - $card-padding)

  .grid-view &
    height: ($card-grid-height - $hero-image-height - $card-padding-top - $card-padding)

  .grid-view .has-no-image &
    padding-top: 60px
    height: ($card-grid-height - 60px - $card-padding)

// -----------------------------------------------------------------------------
// Card details
// -----------------------------------------------------------------------------

.card__property-type, .card__context
  @extend %small-type
  margin-bottom: 2px
  display: block

.card__name
  @extend %large-type
  @extend %prevent-text-breakouts
  font-weight: bold
  line-height: 17px
  .grid-view &
    margin-bottom: 12px

.card__locale
  @extend %serif
  @extend %small-type
  color: $body-copy
  font-style: italic
  line-height: 14px
  margin-bottom: 12px

.card__description
  @extend %irregular-type
  @extend %smooth-text
  color: $body-copy
  line-height: 14px
  .list-view &
    padding-right: 65px

.card__poi-icon
  @extend %benton-regular
  @extend %no-line-height
  @extend %absolute
  top: 26px
  left: 14px
  font-size: 65px
  color: $hotels-poi
  .list-view &
    top: 29px
    left: 10px
  .ie7 &
    line-height: 1
    top: -10px


// -----------------------------------------------------------------------------
// Card Footer
// -----------------------------------------------------------------------------

.card__footer
  @extend %absolute
  bottom: 9px
  left: 10px
  right: 13px
  // To contain the negative text-indent of the badges and preserve outline
  height: 35px
  overflow: hidden

.badge--lp-reviewed
  @extend %absolute
  bottom: 0
  left: 0

.badge--top-choice
  @extend %absolute
  bottom: 3px
  left: 27px

.card--lodging .btn--bookable
  @extend %absolute
  bottom: 2px
  right: 0
  padding: 6px 8px

// -----------------------------------------------------------------------------
// Cards without images
// -----------------------------------------------------------------------------

.grid-view .has-no-image
  border-bottom: 2px solid $hotels-poi

.list-view .has-no-image
  border-left: 2px solid $hotels-poi

.list-view .has-no-image .card__name,
.list-view .has-no-image .card__locale
  padding-left: 38px

.list-view .has-no-image .card__name
  margin-bottom: 3px

.list-view .has-no-image .has-no-locale
  @extend %margin-bottom-20
  margin-top: 5px




