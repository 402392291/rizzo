// Cards
//
//
// .stack__card.card--single - A Card used to display a poi in grid form
//
// Styleguide 1.3

// -----------------------------------------------------------------------------
// Base card object and sizing variables
//
// - Width of a Card defaults to single - override when necessary
// -----------------------------------------------------------------------------

$card-grid-height: 380px

$single-card-width: 192px
$double-card-width: 394px

$hero-image-height: 275px
$card-hero-image-height: 185px

$card-content-padding: 15px


// -----------------------------------------------------------------------------
// Card
// -----------------------------------------------------------------------------

.card
  @extend %standard-shadow
  background: #fff
  margin-bottom: 10px


.card--list.has-image
  &:after
    @extend %empty-abs-generated-content
    height:  20px
    +background-gradient($startColor: rgba(255,255,255,0), $endColor: rgba(255,255,255,1.0))
    bottom: $card-content-padding
    left: 0
    right: 0
  &:hover
    .card__content
      height: $card-grid-height - 60px - $card-content-padding

// cards that are the result of a search have a definite height and default width
.results
  .card
    @extend %margin-grid-column-10
    @extend %relative
    @extend %margin-grid-column-10
    height: $card-grid-height
    width: $single-card-width
    &:hover
      +box-shadow(2, 2, 8, 0, rgba(3, 46, 92, 0.15))
      img
        +filter(brightness(-15%))

  .card--double
    width: $double-card-width

// -----------------------------------------------------------------------------
// Card Image
// -----------------------------------------------------------------------------

.card__hero
  @extend %relative
  overflow: hidden
  width: 100%

  .card--list.has-image &
    height: $card-hero-image-height

  // single stack cards have taller images
  .card--stack &
    height: $hero-image-height

  // double stack cards have full height images
  .card--stack.card--double &
    height: $card-grid-height

  // Refactor to use landscape/portrait classes when rowlf imaging catches up
  > .card__image
    @extend %absolute-bottom
    max-width: none
    height: 100%


// -----------------------------------------------------------------------------
// Card 'content' section
// -----------------------------------------------------------------------------

.card__content
  @extend %absolute
  @extend %transition--base
  background: #fff
  bottom: 0
  color: $header-gray
  height: ($card-grid-height - 60px - $card-content-padding)
  left: 0
  overflow: hidden
  padding: $card-content-padding
  right: 0

  .card--stack &
    height: ($card-grid-height - $hero-image-height - (2 * $card-content-padding) )

  .card--stack.card--double &
    +background-gradient($startColor: rgba(0,0,0,0), $endColor: rgba(0,0,0,1.0))
    color: #fff
    height: auto

  .card--list.has-image &
    bottom: $card-content-padding
    height: ($card-grid-height - $card-hero-image-height - (2 * $card-content-padding) )
    padding: $card-content-padding $card-content-padding 0 $card-content-padding


// -----------------------------------------------------------------------------
// Card details
// -----------------------------------------------------------------------------

.card__property-type,
.card__context
  @extend %small-type
  display: block
  margin-bottom: 2px

.card__name
  @extend %large-type
  +word-break()
  font-weight: bold
  line-height: 17px
  margin-bottom: 12px

  .card--info &
    @include font-size(19)
    line-height: 20px

  .card--stack &
    margin-bottom: 0

  .card--list--tour &
    margin-bottom: 5px

.card__locale
  @extend %serif
  @extend %small-type
  color: $body-copy
  font-style: italic
  line-height: 14px
  margin-bottom: 12px

.card__description
  @extend %irregular-type
  @extend %smooth-text
  color: $body-copy
  line-height: 14px

// -----------------------------------------------------------------------------
// Card Footer
// -----------------------------------------------------------------------------

.card__footer
  @extend %absolute
  background: #fff
  bottom: 0
  left: 0
  padding: 8px
  right: 0
  z-index: 1

  .btn--bookable
    background: #fff556
    padding: 10px
    width: 100%

  // fade to white at the top of the footer - needed when footer obscures content fadeout
  &:after
    @extend %empty-abs-generated-content
    +background-gradient($startColor: rgba(255,255,255,0), $endColor: rgba(255,255,255,1.0))
    height: 20px
    left: 0
    right: 0
    top: -20px


// -----------------------------------------------------------------------------
// Card POI icons
// -----------------------------------------------------------------------------

//.card__hero
//  @extend %benton-regular
//  @extend %left-icon
//  @extend %left-icon--hidden-text
//  color: #fff
//  display: block
//  height: 0
//  left: 14px
//  top: 22px
//  z-index: 1
//  .ie7 &
//    line-height: 1
//    top: -10px

.card--list
  &:before
    @extend %benton-regular
    @extend %no-line-height
    position: absolute
    font-size: 65px
    top: 20px
    left: 10px
    z-index: 5

.card--list.has-image
  &:before
    color: #fff
    font-size: 40px
    text-shadow: 0 0 5px rgba(0,0,0,0.75)

.card--list--lodging
  @extend %icon-poi-hotel-before
  color: $hotels-poi
  &.has-image
    @extend %icon-image-poi-hotel-before

.card--list--sight
  @extend %icon-poi-sight-before
  color: $sight-poi
  &.has-image
    @extend %icon-image-poi-sight-before

.card--list--activity
  @extend %icon-poi-activity-before
  color: $activity-poi
  &.has-image
    @extend %icon-image-poi-activity-before

.card--list--tour
  @extend %icon-poi-tour-before
  color: $tour-poi
  &.has-image
    @extend %icon-image-poi-tour-before

.card--list--shopping
  @extend %icon-poi-shopping-before
  color: $shopping-poi
  &.has-image
    @extend %icon-image-poi-shopping-before

.card--list--entertainment
  @extend %icon-poi-entertainment-before
  color: $entertainment-poi
  &.has-image
    @extend %icon-image-poi-entertainment-before

.card--list--restaurant
  @extend %icon-poi-restaurant-before
  color: $restaurant-poi
  &.has-image
    @extend %icon-image-poi-restaurant-before

.card--list--article
  @extend %icon-poi-article-before
  color: $restaurant-poi
  &.has-image
    @extend %icon-image-poi-article-before

.card--list--info
  @extend %icon-poi-info-before
  color: #d9d9d9
  &.has-image
    @extend %icon-image-poi-info-before


// -----------------------------------------------------------------------------
// Top Context Card
// -----------------------------------------------------------------------------

.stack__context
  @extend %four-pixel-rounded
  @extend %standard-shadow
  +transition(opacity, 0.5, ease)
  background: #fff
  margin-bottom: 10px
  padding: 20px 15px

.stack__context__heading
  @extend %benton-regular
  @include font-size(32)
  color: $header-blue
  margin-bottom: 10px

.stack__context__content
  @extend %relative
  @extend %serif
  @extend %smooth-text
  @include font-size(17)
  color: $dark-blue-gray
  line-height: 20px
  width: 570px

  &.stack__context__content--closed
    height: 60px
    margin-bottom: 20px

    &:after
      @extend %empty-abs-generated-content
      +background-gradient($startColor: rgba(255,255,255,0), $endColor: rgba(255,255,255,1.0))
      bottom: 0
      height: 20px
      left: 0
      right: 0
      pointer-events: none


// -----------------------------------------------------------------------------
// Article Card
// -----------------------------------------------------------------------------

.stack__article
  @extend %four-pixel-rounded
  @extend %margin-grid-column-10
  @extend %standard-shadow
  @extend %body-copy
  @extend %regular-type-size
  +transition(opacity, 0.5, ease)
  background: #fff
  margin-bottom: 10px
  width: 798px
  overflow: hidden

.stack__article__header
  border-bottom: 1px solid $ruled-separator
  margin-bottom: 20px

.stack__article__ad
  @extend %tiny-type
  color: #b6b6b6
  text-align: center
  text-transform: uppercase

.stack__article__content__column
  width: 436px
  float: left
  margin: 0 20px

.stack__article__ads__column
  width: 302px
  float: left


.stack__article__heading
  @extend %benton-regular
  @include font-size(32)
  color: $header-blue
  margin-bottom: 10px
  line-height: 1

.stack__article__content__leadin
  @extend %relative
  @extend %serif
  @extend %smooth-text
  @include font-size(17)
  color: $dark-blue-gray
  line-height: 20px

.stack__article_content_subheading
  @include font-size(18)
  @extend %smooth-text
  color: #023f87
  font-weight: bold
  margin-bottom: 10px

.stack__article__content
  overflow: hidden

.stack__breadcrumbs
  @extend %standard-shadow

.stack__breadcrumbs + .stack__article
  position: relative
  //box-shadow: 0 -20px 20px rgba(0,0,0,0.3)
  top: -40px

.stack__breadcrumb
  @extend %four-pixel-rounded
  //background: #fcfcfc
  +background-gradient($startColor: rgb(255,255,255), $endColor: rgb(244,244,244))
  padding: 10px 20px 5px 20px
  @extend %benton-regular
  @include font-size(32)
  color: #d2ddeb
  display: block
  position: relative
  top: -20px
  //box-shadow: 0 -20px 20px rgba(0,0,0,0.3)

  &:hover
    .stack__breadcrumb-title
      @extend %transition--base
      color: $header-blue
      text-decoration: none
      top: -9px

.stack__breadcrumb-title
  @extend %benton-regular
  @include font-size(32)
  color: #d2ddeb
  display: block
  position: relative
  top: 5px

.stack__breadcrumb:first-child
  top: 0
  box-shadow: none

.stack__article__table
  tr
    border-bottom: 1px solid #e6edf5
  th,
  td
    padding: 13px 13px 13px 0
    text-align: center
  th
    color: $header-gray
    padding-bottom: 14px
  td
  .stack__article__table-align-left
    text-align: left

.stack__article__table--small-text
  @extend %tiny-type
  display: block

.stack__article__table--yes,
.stack__article__table--no
  &:before
    font-size: 22px
    line-height: 15px

.stack__article__table--yes
  @extend %left-icon
  @extend %left-icon--hidden-text
  @extend %tick-icon-before
  color: #1ac571
  display: inline-block
  &:before
    width: 24px

.stack__article__table--no
  @extend %left-icon
  @extend %left-icon--hidden-text
  @extend %cross-icon-before
  color: #ff514e
  display: inline-block


// -----------------------------------------------------------------------------
//
// -----------------------------------------------------------------------------

%left-icon-text
  @extend %extra-small-type
  color: #bbc6c7
  line-height: 8px
  &:before
    @extend %benton-regular
    color: #e5ebee
    font-size: 30px
    line-height: 20px
    vertical-align: bottom

.card__tour-duration
  @extend %left-icon-text
  @extend %tour-duration-before
  margin-bottom: 14px
  &:before
    color: #9fd815
    line-height: 15px

.card__feedback__approval
  @extend %left-icon-text
  @extend %approval-before

.card__feedback__comments
  @extend %left-icon-text
  @extend %comments-before
