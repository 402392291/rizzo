// -----------------------------------------------------------------------------
// Variables
// -----------------------------------------------------------------------------

// Rizzo Next base font size / Rizzo base font size
$scaling-factor: (10 / 14)

// Rizzo Next variables
$lp-gutter: (3rem * $scaling-factor)

$lp-min-1410: #{(1410 * .0625)}em // 88.125em
$lp-min-1350: #{(1350 * .0625)}em // 84.375em
$lp-min-1290: #{(1290 * .0625)}em // 80.625em
$lp-min-1200: #{(1200 * .0625)}em // 75em
$lp-min-1080: #{(1080 * .0625)}em // 67.5em
$lp-min-1024: #{(1024 * .0625)}em // 64em
$lp-min-960: #{(960 * .0625)}em   // 60em
$lp-min-840: #{(840 * .0625)}em   // 52.5em
$lp-min-768: #{(768 * .0625)}em   // 48em
$lp-min-720: #{(720 * .0625)}em   // 45em
$lp-min-600: #{(600 * .0625)}em   // 37.5em
$lp-min-560: #{(560 * .0625)}em   // 35em
$lp-min-480: #{(480 * .0625)}em   // 30em
$lp-min-360: #{(360 * .0625)}em   // 22.5em
$lp-min-320: #{(320 * .0625)}em   // 20em

$lp-max-720: #{(719 * .0625)}em // 44.9375em
$lp-max-480: #{(479 * .0625)}em // 29.9375em

@mixin lp-fade-edge($side: "right", $offset: 0, $width: 30px, $color: #fff)
  background-image: linear-gradient(to left, $color 0%, rgba($color, 0) 100%)
  bottom: 0
  content: ""
  height: 100%
  position: absolute
  #{$side}: #{$offset}
  top: 0
  width: $width

@mixin lp-icon-before($uri)
  &:before
    background-image: url($uri)
    background-position: center -94px
    background-repeat: no-repeat
    background-size: 50%
    content: ""
    display: block
    height: 59px
    position: relative
    width: 82px

.content-wrapper.navigation-wrapper.rizzo-navigation.rizzo-next

  // ---------------------------------------------------------------------------
  // header
  // ---------------------------------------------------------------------------

  .header
    background-color: $navblue

  .header__container
    max-width: (129rem * $scaling-factor)
    margin-left: auto
    margin-right: auto

    @media (max-width: $lp-max-480)
      padding-left: ($lp-gutter / 2)
      padding-right: ($lp-gutter / 2)

    @media (min-width: $lp-min-480)
      margin-left: $lp-gutter
      margin-right: $lp-gutter

    @media (min-width: $lp-min-1080)
      margin-left: (6rem * $scaling-factor)
      margin-right: (6rem * $scaling-factor)

    @media (min-width: $lp-min-1410)
      margin-left: auto
      margin-right: auto

  .header__inner
    border-bottom: 0
    height: (5rem * $scaling-factor)

    @media (min-width: $lp-min-720)
      height: (13rem * $scaling-factor)

  .header__logo
    fill: #fff
    width: (7.2rem * $scaling-factor)

    @media (min-width: $lp-min-720)
      width: (15rem * $scaling-factor)

  .header__search
    color: #fff

    @media (min-width: $lp-min-1080)
      height: 100%
      font-size: (2.4rem * $scaling-factor)
      margin-top: (-6.5rem * $scaling-factor)
      line-height: 100%

  .header__search [class*="icon-"]
    margin-right: (1.5rem * $scaling-factor)
    font-size: (2rem * $scaling-factor)

  .header__mobile
    right: ($lp-gutter / -2)

  .header__mobile--left
    right: auto
    left: ($lp-gutter / -2)

  .header__mobile-search
    width: (5rem * $scaling-factor)
    height: (5rem * $scaling-factor)

    &:before
      margin-left: (.4rem * $scaling-factor)

  .header__mobile-menu
    height: (5rem * $scaling-factor)
    width: (5rem * $scaling-factor)

  // Pixel value for line-height to be more precise
  .header__mobile-search,
  .header__mobile-menu,
  .header__mobile-cart
    line-height: 50px

    &:before
      font-size: (2.3rem * $scaling-factor)

  .header--narrow .header__mobile-search,
  .header--narrow .header__mobile-menu,
  .header--narrow .header__mobile-cart
    color: #fff

  .header__mobile-menu .menu-icon
    top: (2.4rem * $scaling-factor)
    left: ($lp-gutter / 2)
    right: ($lp-gutter / 2)

    &:before
      top: (-.5rem * $scaling-factor)

    &:after
      top: (.5rem * $scaling-factor)

  .header__mobile-menu .menu-icon,
  .header__mobile-menu .menu-icon:before,
  .header__mobile-menu .menu-icon:after
    height: (.2rem * $scaling-factor)
    background-color: #fff
    width: (2rem * $scaling-factor)

  .header--narrow .header__mobile-menu .menu-icon,
  .header--narrow .header__mobile-menu .menu-icon:before,
  .header--narrow .header__mobile-menu .menu-icon:after
    background-color: #fff





  // ---------------------------------------------------------------------------
  // navigation
  // ---------------------------------------------------------------------------

  // pixel value here because rem calculation is 1 px off
  .navigation
    line-height: 130px

  .navigation__item--active
    border-bottom: 0
    height: (13rem * $scaling-factor)

  .navigation__item
    margin-left: (1rem * $scaling-factor)

    &:not(:last-child)
      margin-right: (4rem * $scaling-factor)

  .navigation__item--user > a
    border-width: 1px
    border-radius: (2.2rem * $scaling-factor)
    padding: (1.7rem * $scaling-factor) (2rem * $scaling-factor)

  .navigation__link
    font-size: (1.4rem * $scaling-factor)
    text-decoration: none
    transition: color 400ms ease-in-out

    &:hover,
    &:active,
    &:focus
      transition: color 400ms

  .navigation__link,
  .navigation__item--active .navigation__link
    color: #fff

    &:hover,
    &:active,
    &:focus
      color: #7796bb

  .navigation__item--user > .navigation__link
    padding: (1.7rem * $scaling-factor) (2rem * $scaling-factor) (1.7rem * $scaling-factor)

  .navigation__item--user > a:hover
    border-color: #fff





  // ---------------------------------------------------------------------------
  // mobile-navigation
  // ---------------------------------------------------------------------------

  .mobile-navigation
    padding: (3rem * $scaling-factor)
    width: (25rem * $scaling-factor)

  // Pixel values for more precise measurements
  .mobile-navigation__item
    border-bottom-width: 1px
    font-size: 18px

    .icon
      width: (1.3rem * $scaling-factor)
      height: (1.3rem * $scaling-factor)
      margin-top: (.6rem * $scaling-factor)

  .mobile-navigation__link
    padding: (1.6rem * $scaling-factor) 0 (1.1rem * $scaling-factor)

  .mobile-navigation__item--active > .mobile-navigation__link
    color: #333





  // ---------------------------------------------------------------------------
  // sub-navigation
  // ---------------------------------------------------------------------------

  .sub-navigation
    border-radius: (.2rem * $scaling-factor)
    width: (29rem * $scaling-factor)
    margin-left: (-29rem / 2 * $scaling-factor)
    top: (10rem * $scaling-factor)
    font-size: (1.8rem * $scaling-factor)

    &:before
      border: (.8rem * $scaling-factor) solid transparent
      border-bottom-color: #fff
      margin-left: (-.8rem * $scaling-factor)
      top: (-1.6rem * $scaling-factor)

  .sub-navigation--visible
    box-shadow: 0 $lp-gutter (9rem * $scaling-factor) rgba(0, 0, 0, .4)

  .sub-navigation-feature
    padding: $lp-gutter $lp-gutter (2rem * $scaling-factor)

  .mobile-sub-navigation .sub-navigation-feature
    padding: 0 0 (2rem * $scaling-factor)

  .sub-navigation-feature__image
    margin-right: (2.6rem * $scaling-factor)
    width: (8rem * $scaling-factor)

  // Pixel width because rem calculation is 1 px off
  .mobile-sub-navigation .sub-navigation-feature__image
    margin-right: (1.4rem * $scaling-factor)
    width: 60px

  .sub-navigation-feature__text
    padding-top: ($lp-gutter / 2)

  .mobile-sub-navigation .sub-navigation-feature__text
    padding-top: (.8rem * $scaling-factor)

  .sub-navigation-feature__title
    font-size: (1.6rem * $scaling-factor)

  .sub-navigation-feature__subtitle
    font-size: (1.1rem * $scaling-factor)
    margin-top: (.4rem * $scaling-factor)

  .sub-navigation__list
    padding-bottom: (2.8rem * $scaling-factor)
    padding-top: (2.8rem * $scaling-factor)

  .sub-navigation-feature + .sub-navigation__list
    padding-top: 0

  .mobile-sub-navigation .sub-navigation__list
    padding: 0

  .sub-navigation__item
    font-size: (1.6rem * $scaling-factor)
    margin-left: $lp-gutter
    margin-right: $lp-gutter

  .mobile-sub-navigation .sub-navigation__item
    margin-left: 0
    margin-right: 0

  .sub-navigation__link
    padding-top: (1rem * $scaling-factor)
    padding-bottom: (.8rem * $scaling-factor)

    &:after
      height: calc(100% + .2rem)
      left: -$lp-gutter
      right: -$lp-gutter
      top: (-.1rem * $scaling-factor)
      width: calc(100% + #{$lp-gutter} + #{$lp-gutter})

  .mobile-sub-navigation .sub-navigation__link
    padding-left: ($lp-gutter / 2)
    padding-right: ($lp-gutter / 2)

  .sub-navigation__button
    font-size: (1.2rem * $scaling-factor)
    padding: (1.8rem * $scaling-factor) (3rem * $scaling-factor) (1.4rem * $scaling-factor)
    border-radius: 0 0 (.2rem * $scaling-factor) (.2rem * $scaling-factor)
    padding-top: (2.3rem * $scaling-factor)
    padding-bottom: (1.9rem * $scaling-factor)





  // ---------------------------------------------------------------------------
  // search
  // ---------------------------------------------------------------------------

  .lp-search
    @media (min-width: $lp-min-720)
      box-shadow: (-5rem * $scaling-factor) 0 (15rem * $scaling-factor) rgba(0, 0, 0, .5)

  .lp-search--visible
    @media (min-width: $lp-min-720)
      box-shadow: (.5rem * $scaling-factor) 0 (23rem * $scaling-factor) rgba(0, 0, 0, .5)

  .lp-search__container
    max-width: (129rem * $scaling-factor)
    margin-left: auto
    margin-right: auto

    @media (max-width: $lp-max-480)
      padding-left: ($lp-gutter / 2)
      padding-right: ($lp-gutter / 2)

    @media (min-width: $lp-min-480)
      margin-left: $lp-gutter
      margin-right: $lp-gutter

    @media (min-width: $lp-min-1080)
      margin-left: ($lp-gutter * 2)
      margin-right: ($lp-gutter * 2)

    @media (min-width: $lp-min-1410)
      margin-left: auto
      margin-right: auto

  .lp-search__inner
    height: (5rem * $scaling-factor)
    line-height: (3.8rem * $scaling-factor)

    @media (min-width: $lp-min-720)
      height: (13rem * $scaling-factor)

    &:after
      @media (max-width: $lp-max-720)
        +lp-fade-edge("right", 29px)

  .lp-search__label
    width: (2rem * $scaling-factor)
    height: (2rem * $scaling-factor)

    @media (min-width: $lp-min-720)
      top: (-.4rem * $scaling-factor)

    &:before
      font-size: (2rem * $scaling-factor)

  .lp-search__input
    left: (2.5rem * $scaling-factor)
    right: (5.9rem * $scaling-factor)
    width: calc(100% - #{(5rem * $scaling-factor)} - #{(.9rem * $scaling-factor)})
    height: (3.8rem * $scaling-factor)
    font-size: (1.6rem * $scaling-factor)

    @media (max-width: $lp-max-720)
      padding-top: (.3rem * $scaling-factor)

    @media (min-width: $lp-min-720)
      left: (4rem * $scaling-factor)
      right: (4rem * $scaling-factor)
      font-size: (2.4rem * $scaling-factor)
      padding-top: 1px
      width: calc(100% - #{(8rem * $scaling-factor)})

  .lp-search__close
    width: (3.8rem * $scaling-factor)
    height: (3.8rem * $scaling-factor)
    right: (-.9rem * $scaling-factor)

    @media (min-width: $lp-min-720)
      right: 0

    &:before
      font-size: (1.8rem * $scaling-factor)

      @media (min-width: $lp-min-720)
        font-size: (2rem * $scaling-factor)

  .lp-search-results
    transform: translateY((-2rem * $scaling-factor))

  .lp-search-results--visible
    transform: translateY(0)

  .lp-search-results__list
    margin-bottom: ((4.5rem - .8rem) * $scaling-factor)
    padding-top: (1rem * $scaling-factor)
    border-top-width: 1px

  // Pixel value for line-height so that it's more precise
  .lp-search-item
    margin-bottom: (1rem * $scaling-factor)
    line-height: 60px

  .lp-search-item__link
    padding-left: (11rem * $scaling-factor)

  .lp-search-item__name
    font-size: (1.8rem * $scaling-factor)
    border-bottom-width: 1px

    @media (min-width: $lp-min-720)
      font-size: (2.2rem * $scaling-factor)
      transform: translateX(0)

  .lp-search-item:hover,
  .lp-search-item:active,
  .lp-search-item:focus,
  .lp-search-item--selected
    .lp-search-item__name
      @media (min-width: $lp-min-720)
        transform: translateX(7px)

  .lp-search-results__more
    margin-bottom: (4.5rem * $scaling-factor)
    font-size: (1.2rem * $scaling-factor)

  .lp-search-results__more
    [class*="icon-"]
      transform: translateX(6px)

    &:hover [class*="icon-"],
    &:active [class*="icon-"],
    &:focus [class*="icon-"]
      transform: translateX(2px)





  // ---------------------------------------------------------------------------
  // avatar
  // ---------------------------------------------------------------------------

  // pixel values for exact sizing
  .avatar
    height: 40px
    max-width: 40px
    width: 40px

  // adjusting position
  .navigation__item--user .avatar
    right: -1px

  .navigation__item--user > a.avatar
    padding: 0

  .avatar--navigation
    top: (-.4rem * $scaling-factor)





  // ---------------------------------------------------------------------------
  // notification-badge
  // ---------------------------------------------------------------------------

  // pixel values for finer control and exact positioning, sizing
  .notification-badge
    width: 17px
    height: 17px
    font-size: 10px
    line-height: 18px

  // pixel values for finer control and exact positioning, sizing
  .notification-badge--user
    right: -2px
    width: 15px
    height: 15px

  // rem too small to work for dimensions
  .notification-badge--user-inline
    top: (-.5rem * $scaling-factor)
    right: (-1.1rem * $scaling-factor)
    width: 12px
    height: 12px

  // pixel values for finer control and exact positioning, sizing
  .notification-badge--shop
    top: 46.5px
    right: -6px

  // pixel values for finer control and exact positioning, sizing
  .notification-badge--shop-inline
    left: 46px
    top: 18px
    width: 6px
    height: 6px

  // pixel values for finer control and exact positioning, sizing
  .notification-badge--mobile-menu
    top: 16px
    right: 12px
    width: 6px
    height: 6px





  // ---------------------------------------------------------------------------
  // topic
  // ---------------------------------------------------------------------------

  .topic
    position: relative

  .topic__image
    background-color: #ccc
    background-repeat: no-repeat
    background-size: cover
    height: (6rem * $scaling-factor)
    width: (8rem * $scaling-factor)
    left: 0
    position: absolute
    top: 0

  .topic__image--activity
    +lp-icon-before("https://assets.staticlp.com/destinations-next/icons/activity--line.svg")
    background-image: url("https://assets.staticlp.com/destinations-next/images/search-category-image-activities.jpg")

  .topic__image--article
    +lp-icon-before("https://assets.staticlp.com/destinations-next/icons/article--line.svg")
    background-image: url("https://assets.staticlp.com/destinations-next/images/search-category-image-articles.jpg")

  .topic__image--collection
    +lp-icon-before("https://assets.staticlp.com/destinations-next/icons/image--line.svg")
    background-image: url("https://assets.staticlp.com/destinations-next/images/search-category-image-collection.jpg")

  .topic__image--guide
    +lp-icon-before("https://assets.staticlp.com/destinations-next/icons/book.svg")
    background-image: url("https://assets.staticlp.com/destinations-next/images/search-category-image-guides.jpg")

  .topic__image--hotel
    +lp-icon-before("https://assets.staticlp.com/destinations-next/icons/hotel--line.svg")
    background-image: url("https://assets.staticlp.com/destinations-next/images/search-category-image-hotels.jpg")

  .topic__image--place
    +lp-icon-before("https://assets.staticlp.com/destinations-next/icons/place.svg")
    background-image: url("https://assets.staticlp.com/destinations-next/images/search-category-image-place.jpg")

  .topic__image--sight
    +lp-icon-before("https://assets.staticlp.com/destinations-next/icons/sight--line.svg")
    background-image: url("https://assets.staticlp.com/destinations-next/images/search-category-image-sights.jpg")

  .topic__image--tour
    +lp-icon-before("https://assets.staticlp.com/destinations-next/icons/tour--line.svg")
    background-image: url("https://assets.staticlp.com/destinations-next/images/search-category-image-tours.jpg")
