- image_info = properties[:image_info]

.hero-banner.js-story-container{ class: image_info.present? ? 'hero-banner--flickr' : 'js-bg-parallax' }
  = safe_image_tag(properties[:image_url], class: "hero-banner__image", alt: properties[:title])

  - if properties[:image_caption].present? && properties[:image_caption]
    .hero-banner__image-story__cover
    .hero-banner__image-story__toggle.arrow--up.js-toggle-active{ data: { toggle_target: ".js-story-container" } }
      .hero-banner__image-story__expand.icon--chevron-up.icon--white
      .hero-banner__image-story__contract.icon--cross.icon--white
    .hero-banner__image-story.theme--dark
      .hero-banner__image-story__content.row__inner
        %h4.copy--h4
          Story behind the picture
        %p.copy--body
          = properties[:image_caption]

  .hero-banner__content.row__inner
    - unless properties[:image_info]
      .hero-banner__text
        %p.hero-banner__lead-in
          = properties[:lead_in]
        %h1.hero-banner__header
          - if properties[:slug]
            %a.hero-banner__link{ href: "#{properties[:slug]}", title: properties[:title] }
              = properties[:title]
          - else
            = properties[:title]
        - if properties[:strapline]
          %p.hero-banner__strapline
            = properties[:strapline]

    - if image_info.present?
      - if image_info[:attribution].present?
        .hero-banner__image-content
          .hero-banner__image-footer
            %a.hero-banner__source{href: image_info[:attribution_url]}
              %img{src: image_info[:attribution_image_url], class: 'hero-banner__avatar', alt: image_info[:attribution]}
              %span.hero-banner__source-text
                by
              %span.hero-banner__username
                = image_info[:attribution]
              .hero-banner__image-title
                = image_info[:title]
      - else
        .hero-banner__image-content
          .hero-banner__image-footer
            .hero-banner__image-title
              = image_info[:caption]


    - if properties[:sponsored]
      .hero-banner__sponsor.ad-sponsorTile.is-closed
        .ad-sponsorTile__tag
          Sponsored by
        = ui_component('ads/sponsor_tile', properties: { size: { mapping: "sponsor-logo" } })
